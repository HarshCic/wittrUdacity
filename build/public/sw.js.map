{"version":3,"sources":["node_modules/browser-pack/_prelude.js","public/js/sw/index.js","public/js/sw/preroll/index.js"],"names":[],"mappings":"AAAA;;;ACAA,IAAI,eAAe,GAAG,iBAAiB,CAAC;;AAExC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAS,KAAK,EAAE;;;AAG/C,OAAK,CAAC,SAAS,CACb,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,UAAS,KAAK,EAAE;AAChD,WAAO,KAAK,CAAC,MAAM,CAAC,CAClB,WAAW,EACX,YAAY,EACZ,cAAc,EACd,eAAe,EACf,oEAAoE,EACpE,yFAAyF,CAC1F,CAAC,CAAC;GACJ,CAAC,CACH,CAAC;CACH,CAAC,CAAC;;AAEH,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAS,KAAK,EAAE;AAChD,OAAK,CAAC,SAAS,CACb,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAS,UAAU,EAAE;AACtC,WAAO,OAAO,CAAC,GAAG,CAChB,UAAU,CAAC,MAAM,CAAC,UAAS,SAAS,EAAE;AACpC,aAAO,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,IAC9B,SAAS,IAAI,eAAe,CAAC;KACrC,CAAC,CAAC,GAAG,CAAC,UAAS,SAAS,EAAE;AACzB,aAAO,MAAM,UAAO,CAAC,SAAS,CAAC,CAAC;KACjC,CAAC,CACH,CAAC;GACH,CAAC,CACH,CAAC;CACH,CAAC,CAAC;;AAEH,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAS,KAAK,EAAE;;;AAG/C,MAAI,UAAU,GAAE,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AAC3C,MAAI,UAAU,CAAC,MAAM,KAAG,QAAQ,CAAC,MAAM,EAAE;AACvC,QAAI,UAAU,CAAC,QAAQ,KAAG,GAAG,EAAE;AAC7B,WAAK,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;AAC5C,aAAO;KACR;GACF;AACC,OAAK,CAAC,WAAW,CACf,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAS,QAAQ,EAAE;AAClD,WAAO,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;GACzC,CAAC,CACH,CAAC;CACH,CAAC,CAAC;;AAEH,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAS,KAAK,EAAE;AAC/C,MAAI,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,aAAa,EAAE;AACvC,QAAI,CAAC,WAAW,EAAE,CAAC;GACpB;CACF,CAAC,CAAC;;;;;ACvDH,IAAI,CAAC,GAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAA;AACtC,UAAU,CAAC,SAAS,CAAC,WAAW,GAAC,YAAU;AAAC,SAAO,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAC,KAAK,CAAC,GAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAC,SAAS,CAAC,CAAA;CAAC,CAAA","file":"sw.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var staticCacheName = 'wittr-static-v4';\r\n\r\nself.addEventListener('install', function(event) {\r\n  // TODO: cache /skeleton rather than the root page\r\n\r\n  event.waitUntil(\r\n    caches.open(staticCacheName).then(function(cache) {\r\n      return cache.addAll([\r\n        '/skeleton',\r\n        'js/main.js',\r\n        'css/main.css',\r\n        'imgs/icon.png',\r\n        'https://fonts.gstatic.com/s/roboto/v15/2UX7WLTfW3W8TclTUvlFyQ.woff',\r\n        'https://fonts.gstatic.com/s/roboto/v15/d-6IYplOFocCacKzxwXSOD8E0i7KZn-EPnyo3HZu7kw.woff'\r\n      ]);\r\n    })\r\n  );\r\n});\r\n\r\nself.addEventListener('activate', function(event) {\r\n  event.waitUntil(\r\n    caches.keys().then(function(cacheNames) {\r\n      return Promise.all(\r\n        cacheNames.filter(function(cacheName) {\r\n          return cacheName.startsWith('wittr-') &&\r\n                 cacheName != staticCacheName;\r\n        }).map(function(cacheName) {\r\n          return caches.delete(cacheName);\r\n        })\r\n      );\r\n    })\r\n  );\r\n});\r\n\r\nself.addEventListener('fetch', function(event) {\r\n  // TODO: respond to requests for the root page with\r\n  // the page skeleton from the cache\r\nvar requestUrl= new URL(event.request.url);\r\nif (requestUrl.origin===location.origin) {\r\n  if (requestUrl.pathname==='/') {\r\n    event.respondWith(cache.match('/skeleton'));\r\n    return;\r\n  }\r\n}\r\n  event.respondWith(\r\n    caches.match(event.request).then(function(response) {\r\n      return response || fetch(event.request);\r\n    })\r\n  );\r\n});\r\n\r\nself.addEventListener('message', function(event) {\r\n  if (event.data.action === 'skipWaiting') {\r\n    self.skipWaiting();\r\n  }\r\n});","var r=FetchEvent.prototype.respondWith\r\nFetchEvent.prototype.respondWith=function(){return new URL(this.request.url).search.endsWith(\"bypass-sw\")?void 0:r.apply(this,arguments)}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJDOi9Vc2Vycy9IYXJzaC9EZXNrdG9wL1BXQS93aXR0ci9wdWJsaWMvanMvc3cvaW5kZXguanMiLCJDOi9Vc2Vycy9IYXJzaC9EZXNrdG9wL1BXQS93aXR0ci9wdWJsaWMvanMvc3cvcHJlcm9sbC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxlQUFlLEdBQUcsaUJBQWlCLENBQUM7O0FBRXhDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsVUFBUyxLQUFLLEVBQUU7OztBQUcvQyxPQUFLLENBQUMsU0FBUyxDQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVMsS0FBSyxFQUFFO0FBQ2hELFdBQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUNsQixXQUFXLEVBQ1gsWUFBWSxFQUNaLGNBQWMsRUFDZCxlQUFlLEVBQ2Ysb0VBQW9FLEVBQ3BFLHlGQUF5RixDQUMxRixDQUFDLENBQUM7R0FDSixDQUFDLENBQ0gsQ0FBQztDQUNILENBQUMsQ0FBQzs7QUFFSCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLFVBQVMsS0FBSyxFQUFFO0FBQ2hELE9BQUssQ0FBQyxTQUFTLENBQ2IsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFTLFVBQVUsRUFBRTtBQUN0QyxXQUFPLE9BQU8sQ0FBQyxHQUFHLENBQ2hCLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBUyxTQUFTLEVBQUU7QUFDcEMsYUFBTyxTQUFTLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUM5QixTQUFTLElBQUksZUFBZSxDQUFDO0tBQ3JDLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBUyxTQUFTLEVBQUU7QUFDekIsYUFBTyxNQUFNLFVBQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztLQUNqQyxDQUFDLENBQ0gsQ0FBQztHQUNILENBQUMsQ0FDSCxDQUFDO0NBQ0gsQ0FBQyxDQUFDOztBQUVILElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBUyxLQUFLLEVBQUU7OztBQUcvQyxNQUFJLFVBQVUsR0FBRSxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNDLE1BQUksVUFBVSxDQUFDLE1BQU0sS0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLFFBQUksVUFBVSxDQUFDLFFBQVEsS0FBRyxHQUFHLEVBQUU7QUFDN0IsV0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDNUMsYUFBTztLQUNSO0dBQ0Y7QUFDQyxPQUFLLENBQUMsV0FBVyxDQUNmLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFTLFFBQVEsRUFBRTtBQUNsRCxXQUFPLFFBQVEsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ3pDLENBQUMsQ0FDSCxDQUFDO0NBQ0gsQ0FBQyxDQUFDOztBQUVILElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsVUFBUyxLQUFLLEVBQUU7QUFDL0MsTUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxhQUFhLEVBQUU7QUFDdkMsUUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0dBQ3BCO0NBQ0YsQ0FBQyxDQUFDOzs7OztBQ3ZESCxJQUFJLENBQUMsR0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQTtBQUN0QyxVQUFVLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBQyxZQUFVO0FBQUMsU0FBTyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEdBQUMsS0FBSyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUMsU0FBUyxDQUFDLENBQUE7Q0FBQyxDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBzdGF0aWNDYWNoZU5hbWUgPSAnd2l0dHItc3RhdGljLXY0JztcclxuXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFsbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgLy8gVE9ETzogY2FjaGUgL3NrZWxldG9uIHJhdGhlciB0aGFuIHRoZSByb290IHBhZ2VcclxuXHJcbiAgZXZlbnQud2FpdFVudGlsKFxyXG4gICAgY2FjaGVzLm9wZW4oc3RhdGljQ2FjaGVOYW1lKS50aGVuKGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZS5hZGRBbGwoW1xyXG4gICAgICAgICcvc2tlbGV0b24nLFxyXG4gICAgICAgICdqcy9tYWluLmpzJyxcclxuICAgICAgICAnY3NzL21haW4uY3NzJyxcclxuICAgICAgICAnaW1ncy9pY29uLnBuZycsXHJcbiAgICAgICAgJ2h0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9yb2JvdG8vdjE1LzJVWDdXTFRmVzNXOFRjbFRVdmxGeVEud29mZicsXHJcbiAgICAgICAgJ2h0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9yb2JvdG8vdjE1L2QtNklZcGxPRm9jQ2FjS3p4d1hTT0Q4RTBpN0tabi1FUG55bzNIWnU3a3cud29mZidcclxuICAgICAgXSk7XHJcbiAgICB9KVxyXG4gICk7XHJcbn0pO1xyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgZXZlbnQud2FpdFVudGlsKFxyXG4gICAgY2FjaGVzLmtleXMoKS50aGVuKGZ1bmN0aW9uKGNhY2hlTmFtZXMpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxyXG4gICAgICAgIGNhY2hlTmFtZXMuZmlsdGVyKGZ1bmN0aW9uKGNhY2hlTmFtZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGNhY2hlTmFtZS5zdGFydHNXaXRoKCd3aXR0ci0nKSAmJlxyXG4gICAgICAgICAgICAgICAgIGNhY2hlTmFtZSAhPSBzdGF0aWNDYWNoZU5hbWU7XHJcbiAgICAgICAgfSkubWFwKGZ1bmN0aW9uKGNhY2hlTmFtZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTtcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfSlcclxuICApO1xyXG59KTtcclxuXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCBmdW5jdGlvbihldmVudCkge1xyXG4gIC8vIFRPRE86IHJlc3BvbmQgdG8gcmVxdWVzdHMgZm9yIHRoZSByb290IHBhZ2Ugd2l0aFxyXG4gIC8vIHRoZSBwYWdlIHNrZWxldG9uIGZyb20gdGhlIGNhY2hlXHJcbnZhciByZXF1ZXN0VXJsPSBuZXcgVVJMKGV2ZW50LnJlcXVlc3QudXJsKTtcclxuaWYgKHJlcXVlc3RVcmwub3JpZ2luPT09bG9jYXRpb24ub3JpZ2luKSB7XHJcbiAgaWYgKHJlcXVlc3RVcmwucGF0aG5hbWU9PT0nLycpIHtcclxuICAgIGV2ZW50LnJlc3BvbmRXaXRoKGNhY2hlLm1hdGNoKCcvc2tlbGV0b24nKSk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59XHJcbiAgZXZlbnQucmVzcG9uZFdpdGgoXHJcbiAgICBjYWNoZXMubWF0Y2goZXZlbnQucmVxdWVzdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UgfHwgZmV0Y2goZXZlbnQucmVxdWVzdCk7XHJcbiAgICB9KVxyXG4gICk7XHJcbn0pO1xyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpZiAoZXZlbnQuZGF0YS5hY3Rpb24gPT09ICdza2lwV2FpdGluZycpIHtcclxuICAgIHNlbGYuc2tpcFdhaXRpbmcoKTtcclxuICB9XHJcbn0pOyIsInZhciByPUZldGNoRXZlbnQucHJvdG90eXBlLnJlc3BvbmRXaXRoXHJcbkZldGNoRXZlbnQucHJvdG90eXBlLnJlc3BvbmRXaXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBVUkwodGhpcy5yZXF1ZXN0LnVybCkuc2VhcmNoLmVuZHNXaXRoKFwiYnlwYXNzLXN3XCIpP3ZvaWQgMDpyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0iXX0="}